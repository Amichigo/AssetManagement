<div bsModal #createOrEditModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="createOrEditModal" aria-hidden="true" [config]="{backdrop: 'static'}">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <form #editForm="ngForm" novalidate (ngSubmit)="save()">
                <div class="modal-header">
                    <button type="button" class="close" (click)="close()" [attr.aria-label]="l('Close')">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Mã Kế Hoạch *</label>
                        <input #kinhPhiInput="ngModel" class="form-control" type="text" name="maKeHoach"
                               [(ngModel)]="shoppingPlanDetail.maKeHoach" required maxlength="64">
                        <validation-messages [formCtrl]="maKeHoachInput"></validation-messages>
                    </div>
                    <div class=" form-group">
                            <!--<Primeng-TurboTable-Start>-->
                            <div class="primeng-datatable-container" [busyIf]="primengTableHelper.isLoading">
                                <p-table #dataTable (onLazyLoad)="getGoods($event)" [value]="primengTableHelper.records"
                                         rows="{{primengTableHelper.defaultRecordsCountPerPage}}" [paginator]="false" [lazy]="true"
                                         [responsive]="primengTableHelper.isResponsive">
                                    <ng-template pTemplate="header">
                                        <tr>
                                            <th>
                                            </th>
                                            <th pSortableColumn="maSP">
                                                MaSP
                                                <p-sortIcon field="maSP"></p-sortIcon>
                                            </th>
                                            <th pSortableColumn="tenSP">
                                                TenSP
                                            </th>
                                            <th pSortableColumn="gia">
                                                Gia
                                            </th>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-record="$implicit">
                                        <tr (click)="rowSelected(record)">
                                            <td><input type="radio" name="selectedRow" value="select" /></td>
                                            <td>
                                                <span class="ui-column-title">Mã SP</span>
                                                <span title="{{record.maSP}}">{{truncateString(record.maSP)}}</span>
                                            </td>
                                            <td>
                                                <span class="ui-column-title">Tên SP</span>
                                                <span title="{{record.tenSP}}">{{truncateString(record.tenSP)}}</span>
                                            </td>
                                            <td>
                                                <span class="ui-column-title">Gía</span>
                                                <span title="{{record.gia}}">{{record.gia}}</span>
                                            </td>
                                        </tr>
                                    </ng-template>
                                </p-table>
                                <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
                                    {{l('NoData')}}
                                </div>
                                <div class="primeng-paging-container">
                                    <p-paginator rows="{{primengTableHelper.defaultRecordsCountPerPage}}" #paginator
                                                 (onPageChange)="getGoods($event)"
                                                 [totalRecords]="primengTableHelper.totalRecordsCount"
                                                 [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage">
                                    </p-paginator>
                                    <span class="total-records-count">
                                        {{l('TotalRecordsCount', primengTableHelper.totalRecordsCount)}}
                                    </span>
                                </div>
                            </div>
                            <!--<Primeng-TurboTable-End>-->
                    </div>
                    <div class="form-group">
                        <label>Đơn vị *</label>
                        <input #namInput="ngModel" class="form-control" type="text" name="donVi"
                               [(ngModel)]="shoppingPlanDetail.donVi" required maxlength="64">
                        <validation-messages [formCtrl]="donViInput"></validation-messages>
                    </div>
                    <div class="form-group">
                        <label>Số lượng *</label>
                        <input #namInput="ngModel" class="form-control" type="text" name="soLuong"
                               [(ngModel)]="shoppingPlanDetail.soLuong" required maxlength="64">
                        <validation-messages [formCtrl]="soLuongInput"></validation-messages>
                    </div>
                    <div class="form-group">
                        <label>Tháng kế hoạch *</label>
                        <input #namInput="ngModel" class="form-control" type="number" name="thangKeHoach"
                               [(ngModel)]="shoppingPlanDetail.thangKeHoach" required maxlength="64">
                        <validation-messages [formCtrl]="thangKeHoachInput"></validation-messages>
                    </div>
                    <div class="form-group">
                        <label>Số Lượng Thực Hiện *</label>
                        <input #namInput="ngModel" class="form-control" type="number" name="soLuongThucHien"
                               [(ngModel)]="shoppingPlanDetail.soLuongThucHien" required maxlength="64">
                        <validation-messages [formCtrl]="soLuongThucHienInput"></validation-messages>
                    </div>
                    <div class="form-group">
                        <label>Tháng Thực Hiện *</label>
                        <input #namInput="ngModel" class="form-control" type="number" name="thanhThucHien"
                               [(ngModel)]="shoppingPlanDetail.thanhThucHien" required maxlength="64">
                        <validation-messages [formCtrl]="thanhThucHienInput"></validation-messages>
                    </div>

                </div>
                <div class="modal-footer">
                    <button [disabled]="saving" type="button" class="btn btn-default"
                            (click)="close()">
                        {{l("Cancel")}}
                    </button>
                    <button type="submit" class="btn btn-primary" [buttonBusy]="saving"
                            [busyText]="l('SavingWithThreeDot')">
                        <i class="fa fa-save"></i>
                        <span>{{l("Save")}}</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
